<!DOCTYPE html><html lang="zh-Hans"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=0.5"><link rel="stylesheet" href="/css/post.css"><link rel="icon" href="/img/favicon.png"><title>hexo博客配置笔记</title></head><body>　　<div class="inner"><h2>hexo博客配置笔记</h2><p>这几个教程可以做参考：<a href="https://codezjx.github.io/2017/07/31/hexo-guide/" target="_blank" rel="noopener">https://codezjx.github.io/2017/07/31/hexo-guide/</a><br><a href="https://github.com/limedroid/HexoLearning" target="_blank" rel="noopener">https://github.com/limedroid/HexoLearning</a></p>
<p>针对评论系统参考了这篇文章，<a href="https://blog.csdn.net/yanzi1225627/article/details/77890414" target="_blank" rel="noopener">https://blog.csdn.net/yanzi1225627/article/details/77890414</a><br>但是感觉这篇文章不是太靠谱，就把按照这篇文章做的修改又还原了。</p>
<p>今天又把评论系统给配置上了，现在把踩的坑记录下来：<br>1，themes\next_config.yml文件中的gitment配置，每一项冒号后面要有空格，value后边如果加#注释的话，value和#之间也要有空格<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">gitment:</span><br><span class="line">  enable: true</span><br><span class="line">  mint: true 		# RECOMMEND, A mint on Gitment, to support count, language and proxy_gateway</span><br><span class="line">  count: true 		# Show comments count in post meta area</span><br><span class="line">  lazy: false 		# Comments lazy loading with a button</span><br><span class="line">  cleanly: false 	# Hide &apos;Powered by ...&apos; on footer, and more</span><br><span class="line">  language: 		# Force language, or auto switch by theme</span><br><span class="line">  github_user: sunhang 	# 此处 - Your Github ID</span><br><span class="line">  github_repo: gitment-comments # 此处注意 - The repo you use to store Gitment comments</span><br><span class="line">  client_id: xxxxxxxxxxxxxxxxxx # 此处 - Github client id for the Gitment</span><br><span class="line">  client_secret: xxxxxxxxxxxxx # 此处 - Github access secret token for the Gitment</span><br><span class="line">  proxy_gateway: # Address of api proxy, See: https://github.com/aimingoo/intersect</span><br><span class="line">  redirect_protocol: # Protocol of redirect_uri with force_redirect_protocol when mint enabled</span><br></pre></td></tr></table></figure></p>
<p>2,打开博客初始化评论时，会提示“Error: Validation Failed”。原因是文章的title有过长的中文，需要修改一下\next\layout_third-party\comments中的gitments.swig文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> function renderGitment()&#123;</span><br><span class="line">        var gitment = new &#123;&#123;CommentsClass&#125;&#125;(&#123;</span><br><span class="line">-           id: window.location.pathname,</span><br><span class="line">+           id: &apos;&#123;&#123; page.date &#125;&#125;&apos;,</span><br><span class="line">            owner: &apos;&#123;&#123; theme.gitment.github_user &#125;&#125;&apos;,</span><br><span class="line">            repo: &apos;&#123;&#123; theme.gitment.github_repo &#125;&#125;&apos;,</span><br><span class="line">            &#123;% if theme.gitment.mint %&#125;</span><br><span class="line">            lang: &quot;&#123;&#123; theme.gitment.language &#125;&#125;&quot; || navigator.language || navigator.systemLanguage || navigator.userLanguage,</span><br><span class="line">            &#123;% endif %&#125;</span><br></pre></td></tr></table></figure></p>
<p>或者是修改成<code>id: decodeURI(window.location.pathname)</code></p>
<p>然后hexo g -d就ok了</p>
</div><script src="/js/jquery.min.js"></script><script src="/js/main.js"></script></body></html>